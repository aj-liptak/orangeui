<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Views Test</title>

<link type="text/html" href="templates/home.html"/>
<script src="lib/jquery-1.7.2.min.js" type="text/javascript"></script>

<script type="text/javascript">

$(document).ready(function() {

	$('.back').click(function() {
		
		var current = $('.active');
		var prev = current.prev('.panel');
		
		if(prev.length == 0) return;
		
		current.addClass('unloading');
		prev.addClass('loading')
		
		setTimeout(function() {
			current.removeClass('unloading').removeClass('active').addClass('unloaded');
			prev.removeClass('loading').removeClass('inactive').addClass('active')
		}, 1000)
		
		console.log(current);
		console.log(prev);
		
	});
	
	$('.next').click(function() {
	
		var current = $('.active');
		var next = current.next('.panel');
		
		if(next.length == 0) return;
		
		current.addClass('inactivating');
		next.addClass('loading')
		
		setTimeout(function() {
			current.removeClass('inactivating').removeClass('active').addClass('inactive');
			next.removeClass('loading').removeClass('unloaded').addClass('active')
		}, 1000)
		
		console.log(current);
		console.log(next);
	
	});

});

</script>

<style type="text/css">

html, body {
	margin: 0;
	padding: 0;
	height: 100%;
	width: 100%;
}

.container {
	margin: 200px auto;
	height: 500px;
	position: relative;
	width: 500px;
}

.panel {
	position: absolute;
	width: 100%;
	height: 100%;
	-webkit-transition: -webkit-transform 1s ease-in-out;
}

.panel.one {
	background-color: #F00;
}

.panel.two {
	background-color: #F0F;
}

.panel.three {
	background-color: #00F;
}

.panel.four {
	background-color: #FF0;
}

.panel.five {
	background-color: #F3F;
}

/** panel states */

.panel.inactive {
	opacity: 0;
	-webkit-transform: translate(-100%);
}

.panel.active {
	opacity: 1;
	-webkit-transform: translate(0%);
}

.panel.unloaded {
	opacity: 0;
	-webkit-transform: translate(100%);
}


/** panel transitions **/

.panel.unloading {
	opacity: 100;
	-webkit-transform: translate(100%);
}

.panel.loading {
	opacity: 100;
	-webkit-transform: translate(0%);
}

.panel.inactivating {
	opacity: 100;
	-webkit-transform: translate(-100%);
}

.button {
	background: #F00;
	margin: 10px;
	height: 25px;
	width: 100px;
}

</style>

</head>

<body>

<div class="container">

	<div class="panel one active">One</div>
	<div class="panel two unloaded">Two</div>
	<div class="panel three unloaded">Three</div>
	<div class="panel four unloaded">Four</div>
	<div class="panel five unloaded">Five</div>

</div>

<div class="button back">Back</div>
<div class="button next">Next</div>

</body>

</html>