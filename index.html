<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Views Test</title>

<script src="lib/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="lib/json-template.js" type="text/javascript"></script>
<script src="src/commons.js" type="text/javascript"></script>
<script src="src/ui.js" type="text/javascript"></script>

<script type="text/javascript">

Orange.add('test', function(O) {

	O.namespace('Test');
	
		
	O.Test.TestViewController = O.View.define({
		
		type: 'ui-test-view',
		
		onLoad: function() {
						
			console.log("test view loaded");	
						
		},
		
		onUnload: function() {
					
			console.log("test view unloaded");
		
		}
		
	});
	
	O.Test.TestViewController = O.View.define({
		
		type: 'ui-form-view',
		
		onLoad: function() {
						
			console.log("test view loaded");
			
			var field = this.getForm('testForm').get('first_name').val('Kevin');
			
			console.log(field);
									
		},
		
		onUnload: function() {
					
			console.log("test view unloaded");
		
		}
		
	});
	
		
}, ['ui'], '0.1');

$(document).ready(function() {

	Orange.app('test', {
		location: true,
		poll: false,
		required: ['test'],
		baseUrl: '/orangeui',
		onLoad: function(O) {
			
			var root = $('[data-view="ui-test-view"]');
			var test = new O.Test.TestViewController(null, root);
			console.log(test);
		}
	});
	
	Orange.init('test');

});

</script>

</head>

<body>

<div data-view="ui-test-view" data-name="test">

	<div data-view="ui-form-view" data-name="home" data-remote="true"></div>

</div>

</body>
</html>
