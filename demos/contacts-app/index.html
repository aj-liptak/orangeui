<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Contacts App Demo</title>

<!-- libraries -->
<script src="lib/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="lib/json-template.js" type="text/javascript"></script>
<script src="lib/iscroll.js" type="text/javascript"></script>
<script src="lib/underscore.js" type="text/javascript"></script>

<script src="../../src/scripts/oop.js" type="text/javascript"></script>
<script src="../../src/scripts/commons.js" type="text/javascript"></script>
<script src="../../src/scripts/db.js" type="text/javascript"></script>
<script src="../../src/scripts/ui.js" type="text/javascript"></script>
<script src="../../src/scripts/ios.js" type="text/javascript"></script>

<!-- iOS meta rules -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">

<!-- viewport rules -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

<!-- stylesheets -->
<link type="text/css" rel="stylesheet" href="lib/reset.css" />
<link type="text/css" rel="stylesheet" href="../../src/stylesheets/ios.css" />
<link type="text/css" rel="stylesheet" href="css/main.css" />

<!-- javascript modules -->
<script src="app/models.js" type="text/javascript"></script>
<script src="app/controllers.js" type="text/javascript"></script>

<script type="text/javascript">

$(document).ready(function() {

	Orange.app('Contacts', {
		location: false,
		poll: false,
		required: ['contacts-models', 'contacts-controllers'],
		baseUrl: '/orangeui/demos/contacts-app'
	});
	
	Orange.init('Contacts');

	document.body.addEventListener('touchstart', function(e){ 
		if($(e.target).get(0).tagName.toLowerCase() !== 'input') {
			e.preventDefault();
		}
	});
	
	$.ajax({
	  url: 'http://orangelit.com/contacts/contacts/',
	  type: 'POST',
	  data: {
	  	'first_name': 'Kevin',
	  	'last_name': 'Kinnebrew',
	  	'email': 'kevin.kinnebrew@gmail.com'
	  },
	  success: function(data) {
	  	alert('success');
	  	alert(data);
	  },
	  error: function() {
	  	alert('error');
	  }
	});
	

});

</script>

</head>

<body>

<div data-view="contacts-app-view" data-name="contacts-app" data-root="true" data-default="contacts">

	<div data-view="contacts-list-view" data-name="contacts" data-template="contacts.html"></div>
	
	<div data-view="contacts-view" data-name="contact" data-template="contact.html"></div>

</div>

</body>

</html>